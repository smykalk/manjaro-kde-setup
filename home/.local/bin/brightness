#!/bin/bash
#
# Set brightness with xbacklight, but never go below 1 (as that's "off").
#

# Increment to use.
incr=5%

cur=$(xbacklight -get | cut -f 1 -d '.')
case "$1" in
	"up")
		if [[ $cur -eq 1 ]]; then
			xbacklight -set 5
		else
			xbacklight -inc $incr
		fi
	;;
	"down")
		if [[ $cur -le 5 ]]; then
			xbacklight -set 1
		else
			xbacklight -dec $incr
		fi
	;;
    "off")
        xbacklight -set 0
    ;;
	*)
		echo "Unsupported: \"$1\""
		exit 1
esac

# xbacklight -get | cut -f 1 -d '.'
